{"version":3,"sources":["webpack:///./src/components/WorkshopList/index.js","webpack:///./src/pages/workshops.js","webpack:///./node_modules/core-js/modules/es6.array.sort.js","webpack:///./node_modules/unfetch/dist/unfetch.mjs","webpack:///./node_modules/core-js/modules/_strict-method.js","webpack:///./node_modules/isomorphic-unfetch/browser.js","webpack:///./src/components/RegisterButton/index.js"],"names":["filterWorkshops","_ref","node","parent","sourceInstanceName","sortWorkshops","prev","next","prevDate","Date","frontmatter","date","nextDate","WorkshopList","props","_useState","useState","seats","setSeats","useEffect","Object","keys","length","fetch","then","resp","json","data","catch","e","console","error","react_default","a","createElement","className","styles","workshop_list","allMdx","edges","filter","sort","map","_ref2","id","key","workshop_list_item","workshop_title","gatsby_browser_entry","to","name","title","company","workshop_date","workshop_date_day","workshop_date_month","seats_count","workshop_id","taken","workshop_lead","short_description","workshop_link","workshop_register","RegisterButton","disabled","__webpack_require__","d","__webpack_exports__","query","Workshops","Layout","SocialMeta","image","workshops","typo","href","components_WorkshopList","$export","aFunction","toObject","fails","$sort","test","P","F","undefined","comparefn","call","this","r","n","Promise","t","s","XMLHttpRequest","o","open","method","headers","setRequestHeader","u","getAllResponseHeaders","replace","push","toLowerCase","ok","status","statusText","url","responseURL","clone","text","resolve","responseText","JSON","parse","blob","Blob","response","entries","get","has","withCredentials","credentials","onload","onerror","send","body","module","exports","arg","window","default","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","_Button__WEBPACK_IMPORTED_MODULE_1__","_registerbutton_module_scss__WEBPACK_IMPORTED_MODULE_2__","_registerbutton_module_scss__WEBPACK_IMPORTED_MODULE_2___default","_ref$disabled","block","fill","color","ticket_button"],"mappings":"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","file":"component---src-pages-workshops-js-a8b0c169f4eaf23c9b67.js","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { Link } from 'gatsby'\nimport fetch from 'isomorphic-unfetch'\nimport RegisterButton from '../RegisterButton'\nimport styles from './workshoplist.module.scss'\n\nconst SEAT_API = 'https://workshop-registration.herokuapp.com/api/seats'\n//const SEAT_API = 'http://0.0.0.0:8001/api/seats'\n\nconst filterWorkshops = ({ node }) =>\n  node.parent.sourceInstanceName === 'workshops'\nconst sortWorkshops = (prev, next) => {\n  const prevDate = new Date(prev.node.frontmatter.date)\n  const nextDate = new Date(next.node.frontmatter.date)\n\n  if (prevDate > nextDate) return -1\n\n  if (prevDate < nextDate) return 1\n\n  return 0\n}\n\nconst WorkshopList = props => {\n  const [seats, setSeats] = useState({})\n\n  useEffect(() => {\n    if (Object.keys(seats).length > 0) return;\n\n    fetch(SEAT_API)\n      .then(resp => resp.json())\n      .then(data => setSeats(data))\n      .catch(e => console.error(e))\n  })\n\n  const countSeats = (id) => {\n    return seats[id] ? (seats[id].seats - seats[id].taken) : 'N/A'\n  }\n\n  return (\n    <ul className={styles.workshop_list}>\n      {props.data.allMdx.edges\n        .filter(filterWorkshops)\n        .sort(sortWorkshops)\n        .map(({ node }) => (\n          <li key={node.id} className={styles.workshop_list_item}>\n            <h3 className={styles.workshop_title}>\n              <Link\n                to={`/${node.parent.sourceInstanceName}/${node.parent.name}`}\n              >\n                {node.frontmatter.title} by {node.frontmatter.company}\n              </Link>\n            </h3>\n\n            <span className={styles.workshop_date}>\n              <span className={styles.workshop_date_day}>\n                24<sup>th</sup>\n              </span>\n              <span className={styles.workshop_date_month}>Sep</span>\n              {/*\n            <span className={styles.workshop_date_time}>\n              {node.frontmatter.start} - {node.frontmatter.end}\n            </span>\n            */}\n\n              <span className={styles.seats}>\n                Available Seats\n                <span className={styles.seats_count}>\n                  {countSeats(node.frontmatter.workshop_id)}\n                </span>\n              </span>\n\n            </span>\n\n            <p className={styles.workshop_lead}>\n              {node.frontmatter.short_description}{' '}\n            </p>\n\n            <div className={styles.workshop_link}>\n              <Link\n                to={`/${node.parent.sourceInstanceName}/${node.parent.name}`}\n              >\n                Read more â†’\n              </Link>\n            </div>\n            <div className={styles.workshop_register}>\n              <RegisterButton\n                id={node.frontmatter.workshop_id}\n                disabled={node.frontmatter.disabled}\n              />\n            </div>\n          </li>\n        ))}\n    </ul>\n  )\n}\n\nexport default WorkshopList\n","import React from 'react'\nimport Layout from '../components/Layout/index'\nimport styles from './workshops.module.scss'\nimport SocialMeta from '../components/SocialMeta/index'\n\nimport WorkshopList from '../components/WorkshopList'\n\nconst Workshops = props => (\n  <Layout>\n    <SocialMeta image=\"social_card_workshops.jpg\" />\n    <div className={styles.workshops}>\n      <h1 className={styles.typo}>Workshops</h1>\n\n      <p className={styles.typo}>\n        <strong>\n          These workshops are FREE for every ticket holder of JSConf Budapest or\n          a Combo ticket with CSSConf Budapest.\n        </strong>\n      </p>\n\n      <p className={styles.typo}>\n        The workshops have limited seats, so be sure to{' '}\n        <a href=\"https://ti.to/jsconf-bp/jsconf-budapest-2019\">\n          get your ticket\n        </a>\n        before they fill up! We'll open them slowly, so everyone has a chance to\n        pick a workshop they like.\n      </p>\n\n      <p className={styles.typo}>\n        You will be able to register to a workshop using the ID on your ticket.\n        If will be possible to switch the workshop you've picked later, if there\n        is a free seat available on another workshop.\n      </p>\n\n      <WorkshopList data={props.data} />\n    </div>\n  </Layout>\n)\n\nexport const query = graphql`\n  query WorkshopsPage {\n    allMdx {\n      edges {\n        node {\n          id\n          parent {\n            ... on File {\n              name\n              sourceInstanceName\n            }\n          }\n          frontmatter {\n            disabled\n            title\n            company\n            short_description\n            path\n            workshop_id\n            start\n            end\n            mentors\n          }\n        }\n      }\n    }\n  }\n`\n\nexport default Workshops\n","'use strict';\nvar $export = require('./_export');\nvar aFunction = require('./_a-function');\nvar toObject = require('./_to-object');\nvar fails = require('./_fails');\nvar $sort = [].sort;\nvar test = [1, 2, 3];\n\n$export($export.P + $export.F * (fails(function () {\n  // IE8-\n  test.sort(undefined);\n}) || !fails(function () {\n  // V8 bug\n  test.sort(null);\n  // Old WebKit\n}) || !require('./_strict-method')($sort)), 'Array', {\n  // 22.1.3.25 Array.prototype.sort(comparefn)\n  sort: function sort(comparefn) {\n    return comparefn === undefined\n      ? $sort.call(toObject(this))\n      : $sort.call(toObject(this), aFunction(comparefn));\n  }\n});\n","export default function(e,n){return n=n||{},new Promise(function(t,r){var s=new XMLHttpRequest;for(var o in s.open(n.method||\"get\",e,!0),n.headers)s.setRequestHeader(o,n.headers[o]);function u(){var e,n=[],t=[],r={};return s.getAllResponseHeaders().replace(/^(.*?):[^\\S\\n]*([\\s\\S]*?)$/gm,function(s,o,u){n.push(o=o.toLowerCase()),t.push([o,u]),r[o]=(e=r[o])?e+\",\"+u:u}),{ok:2==(s.status/100|0),status:s.status,statusText:s.statusText,url:s.responseURL,clone:u,text:function(){return Promise.resolve(s.responseText)},json:function(){return Promise.resolve(s.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([s.response]))},headers:{keys:function(){return n},entries:function(){return t},get:function(e){return r[e.toLowerCase()]},has:function(e){return e.toLowerCase()in r}}}}s.withCredentials=\"include\"==n.credentials,s.onload=function(){t(u())},s.onerror=r,s.send(n.body||null)})};\n//# sourceMappingURL=unfetch.mjs.map\n","'use strict';\nvar fails = require('./_fails');\n\nmodule.exports = function (method, arg) {\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call\n    arg ? method.call(null, function () { /* empty */ }, 1) : method.call(null);\n  });\n};\n","module.exports = window.fetch || (window.fetch = require('unfetch').default || require('unfetch'));\n","import React from 'react'\nimport Button from '../Button'\nimport styles from './registerbutton.module.scss'\n\nexport default ({ id, disabled = false }) => (\n  <Button\n    block={true}\n    fill={true}\n    color={'red'}\n    disabled\n    href={'https://ti.to/jsconf-bp/jsconf-budapest-2019'}\n    className={styles.ticket_button}\n  >\n    {disabled ? 'Open Soon' : 'Register Now'}\n  </Button>\n)\n"],"sourceRoot":""}